# Parameter file for Commander1 - Generated by Commander1 Module

OPERATION                               = optimize
VERBOSITY                               = 3

POLARIZATION                            = .true.
SAMPLE_TT_MODES                         = .false.
SAMPLE_TE_MODES                         = .false.
SAMPLE_TB_MODES                         = .false.
SAMPLE_EE_MODES                         = .true.
SAMPLE_EB_MODES                         = .false.
SAMPLE_BB_MODES                         = .true.

NUM_REALIZATIONS                        = 1
NUM_CHAIN_PER_REALIZATION               = 1
NUM_GROUPS                              = 1
NUMBAND                                 = 7
NUM_PROC_PER_BAND                       = 1

NSIDE                                   = 256
LMAX                                    = 2
LMAX_LOWRES                             = 2
FWHM_LOWRES                             = 60.

NUM_GIBBS_ITER                          = 200
NUM_STEP_WITH_ML_SEARCH                 = 0
NUM_FAST_SUBSTEPS                       = 1
THINNING_FACTOR                         = 1
OUTPUT_THINNING_FACTOR                  = 1
SPECIND_SAMPLER_BLOCKSIZE               = 10000000
RMS_SPEC_INDEX_RANDOM_WALK              = 0.

NUM_JOINT_ALMS_CL_STEPS                 = 0
JOINT_ALMS_CL_CHISQ_THRESHOLD           = 20

BASE_SEED                               = 243789

PRECOMPUTE_PLMS                         = 0

SAMPLING_METHOD                         = 'joint_sampler'
SOLUTION_METHOD                         = 'CG'
LMAX_PRECOND                            = 20
PRECOND_MATRIX_METHOD                   = 'diagonal'
CONDITION_ON_CL                         = .false.
ENFORCE_ZERO_CL                         = .true.

OUTPUT_ALMS                             = .false.
OUTPUT_MAPS                             = .false.
OUTPUT_SPECTRA                          = .false.
OUTPUT_FOREGROUNDS                      = .true.
OUTPUT_CHISQ                            = .true.
OUTPUT_MIXING_MATRIX                    = .false.
OUTPUT_BAND_CHISQ                       = .true.
OUTPUT_GAIN_RESIDUALS                   = .true.
OUTPUT_ML_MAP_AND_COVMAT                = .false.
CHAIN_DIRECTORY                         = 'test'

OUTPUT_FREQUENCY_COMPONENT_MAPS01       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS02       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS03       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS04       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS05       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS06       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS07       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS08       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS09       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS10       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS11       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS12       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS13       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS14       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS15       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS16       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS17       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS18       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS19       = .false.
OUTPUT_FREQUENCY_COMPONENT_MAPS20       = .false.

OVERVIEW_MASK_HIGHFG                    = wmap_temperature_kq85_analysis_mask_r8_9yr_v5.fits
OVERVIEW_MASK_LOWFG                     = wmap_temperature_kq75_analysis_mask_r8_9yr_v5.fits
OVERVIEW_FREQ_MIN                       = 5.d0
OVERVIEW_FREQ_MAX                       = 1300.d0

CGD_MAXITER                             = 10000
CGD_TOLERANCE                           = 1.d-5

REGULARIZATION_NOISE                    = -1.d0

CL_BINNING                              = .false.
BINFILE                                 = 'bins.txt'

MASKFILE                                = mask_fullsky_QU_n256.fits
MASKFILE_CORR                           = mask_fullsky_QU_n256.fits
PROCESSING_MASK                         = mask_fullsky_QU_n256.fits
GAIN_APODIZATION_MASK                   = wmap_temperature_kq85_analysis_mask_r8_9yr_v5.fits
FWHM_APOD_GAINMASK                      = 120.

CORR_CHISQ_THRESHOLD                    = 30.
LMAX_CORR                               = 500
NSIDE_CORR                              = 16
OUTPUT_CROSS_CORRELATION_STATS          = .false.

TEMPLATE_AMP_INPUT                      = none
GAIN_INIT                               = none
BANDPASS_INIT                           = none
GAIN_INIT_RMS                           = 0.0
BP_INIT_RMS                             = 0.0

IN_POWSPECFILE                          = comm_init_cls.dat

DISPERSION_FACTOR                       = 1

#NOISE_FORMAT                           = 'full_matrix'
NOISE_FORMAT                            = 'rms'
#FULL_NOISE_MATRIX_FILE_FORMAT          = 'F90'
#FULL_NOISE_MATRIX_ORDERING             = 2
#FULL_SQRT_NOISE_MATRIX_TYPE            = 'sqrt_eigenvalue'

BEAM_CONVOLUTION_METHOD                 = 'transfer_function'
PIXEL_WINDOW                            = 'pixel_window_n0256.fits'
MJYSR_CONVENTION                        = 'IRAS'

APPLY_BP_CORRECTIONS                    = .false.
APPLY_GAIN_CORRECTIONS                  = .false.
NUM_BP_MCMC_SUBSTEPS                    = 0

# ------------ 030
FREQ_LABEL01                            = '030'
FREQ_UNIT01                             = 'uK_cmb'
MAP01_0001                              = map_npipe6v20_v1_030_0256_60arcmin_full.fits
NOISE_RMS01                             = rms_dx11d_r2_resc_030_0256_60arcmin_full.fits
MASKFILE_CALIB01                        = mask_fullsky_QU_n256.fits
BEAM01                                  = beam_60arcmin.fits
BANDPASS_TYPE01                         = 'LFI'
BANDPASS01                              = bp_dx11d_030.dat
BP_RMS01                                = 0.d0
A2T01                                   = 0.
F2T01                                   = 0.
CO2T01                                  = 0.
A2SZ01                                  = 0.
FREQ_C01                                = 28.4
FIX_MONOPOLE01                          = .true.
FIX_DIPOLE01                            = .true.
REG_NOISE_SCALE01                       = 0.0d0
NOISEAMP_PRIOR_MEAN01                   = 1d0
NOISEAMP_PRIOR_RMS01                    = 0.0
GAIN_PRIOR_MEAN01                       = 1.0d0
GAIN_PRIOR_RMS01                        = 0.00d0
GAIN_CALIB_COMPONENT01                  = 6
GAIN_LMIN01                             = 25
GAIN_LMAX01                             = 100
SAMPLE_AMPLITUDES01                     = .true.

# ------------ 044
FREQ_LABEL02                            = '044'
FREQ_UNIT02                             = 'uK_cmb'
MAP02_0001                              = map_npipe6v20_v1_044_0256_60arcmin_full.fits
NOISE_RMS02                             = rms_dx11d_r2_resc_044_0256_60arcmin_full.fits
MASKFILE_CALIB02                        = mask_fullsky_QU_n256.fits
BEAM02                                  = beam_60arcmin.fits
BANDPASS_TYPE02                         = 'LFI'
BANDPASS02                              = bp_dx11d_044.dat
BP_RMS02                                = 0.d0
A2T02                                   = 0.
F2T02                                   = 0.
CO2T02                                  = 0.
A2SZ02                                  = 0.
FREQ_C02                                = 44.1
FIX_MONOPOLE02                          = .true.
FIX_DIPOLE02                            = .true.
REG_NOISE_SCALE02                       = 0.0d0
NOISEAMP_PRIOR_MEAN02                   = 1d0
NOISEAMP_PRIOR_RMS02                    = 0.0
GAIN_PRIOR_MEAN02                       = 1.0d0
GAIN_PRIOR_RMS02                        = 0.00d0
GAIN_CALIB_COMPONENT02                  = 6
GAIN_LMIN02                             = 25
GAIN_LMAX02                             = 100
SAMPLE_AMPLITUDES02                     = .true.

# ------------ 070
FREQ_LABEL03                            = '070'
FREQ_UNIT03                             = 'uK_cmb'
MAP03_0001                              = map_npipe6v20_v1_070_0256_60arcmin_full.fits
NOISE_RMS03                             = rms_dx11d_r2_resc_070_0256_60arcmin_full.fits
MASKFILE_CALIB03                        = mask_fullsky_QU_n256.fits
BEAM03                                  = beam_60arcmin.fits
BANDPASS_TYPE03                         = 'LFI'
BANDPASS03                              = bp_dx11d_070.dat
BP_RMS03                                = 0.d0
A2T03                                   = 0.
F2T03                                   = 0.
CO2T03                                  = 0.
A2SZ03                                  = 0.
FREQ_C03                                = 70.
FIX_MONOPOLE03                          = .true.
FIX_DIPOLE03                            = .true.
REG_NOISE_SCALE03                       = 0.0d0
NOISEAMP_PRIOR_MEAN03                   = 1d0
NOISEAMP_PRIOR_RMS03                    = 0.0
GAIN_PRIOR_MEAN03                       = 1.0d0
GAIN_PRIOR_RMS03                        = 0.00d0
GAIN_CALIB_COMPONENT03                  = 6
GAIN_LMIN03                             = 25
GAIN_LMAX03                             = 100
SAMPLE_AMPLITUDES03                     = .true.

# ------------ 100
FREQ_LABEL04                            = '100'
FREQ_UNIT04                             = 'uK_cmb'
MAP04_0001                              = map_npipe6v20_v1_100_0256_60arcmin_full.fits
NOISE_RMS04                             = rms_dx11d_r2_resc_100_0256_60arcmin_full.fits
MASKFILE_CALIB04                        = mask_fullsky_QU_n256.fits
BEAM04                                  = beam_60arcmin.fits
BANDPASS_TYPE04                         = 'HFI_cmb'
BANDPASS04                              = bp_dx11d_v307_100.dat
BP_RMS04                                = 0.d0
A2T04                                   = 0.
F2T04                                   = 0.
CO2T04                                  = 0.0
A2SZ04                                  = 0.
FREQ_C04                                = 100
FIX_MONOPOLE04                          = .true.
FIX_DIPOLE04                            = .true.
REG_NOISE_SCALE04                       = 0.0d0
NOISEAMP_PRIOR_MEAN04                   = 1.d0
NOISEAMP_PRIOR_RMS04                    = 0.0
GAIN_PRIOR_MEAN04                       = 1.0d0
GAIN_PRIOR_RMS04                        = 0.00d0
GAIN_CALIB_COMPONENT04                  = 6
GAIN_LMIN04                             = 25
GAIN_LMAX04                             = 100
SAMPLE_AMPLITUDES04                     = .true.

# ------------ 143
FREQ_LABEL05                            = '143'
FREQ_UNIT05                             = 'uK_cmb'
MAP05_0001                              = map_npipe6v20_v1_143_0256_60arcmin_full.fits
NOISE_RMS05                             = rms_dx11d_r2_resc_143_0256_60arcmin_full.fits
MASKFILE_CALIB05                        = mask_fullsky_QU_n256.fits
BEAM05                                  = beam_60arcmin.fits
BANDPASS_TYPE05                         = 'HFI_cmb'
BANDPASS05                              = bp_dx11d_v307_143.dat
BP_RMS05                                = 0.d0
A2T05                                   = 0.
F2T05                                   = 0.
CO2T05                                  = 0.0
A2SZ05                                  = 0.
FREQ_C05                                = 143
FIX_MONOPOLE05                          = .true.
FIX_DIPOLE05                            = .true.
REG_NOISE_SCALE05                       = 0.0d0
NOISEAMP_PRIOR_MEAN05                   = 1.d0
NOISEAMP_PRIOR_RMS05                    = 0.0
GAIN_PRIOR_MEAN05                       = 1.0d0
GAIN_PRIOR_RMS05                        = 0.00d0
GAIN_CALIB_COMPONENT05                  = 6
GAIN_LMIN05                             = 25
GAIN_LMAX05                             = 100
SAMPLE_AMPLITUDES05                     = .true.

# ------------ 217
FREQ_LABEL06                            = '217'
FREQ_UNIT06                             = 'uK_cmb'
MAP06_0001                              = map_npipe6v20_v1_217_0256_60arcmin_full.fits
NOISE_RMS06                             = rms_dx11d_r2_resc_217_0256_60arcmin_full.fits
MASKFILE_CALIB06                        = mask_fullsky_QU_n256.fits
BEAM06                                  = beam_60arcmin.fits
BANDPASS_TYPE06                         = 'HFI_cmb'
BANDPASS06                              = bp_dx11d_v307_217.dat
BP_RMS06                                = 0.d0
A2T06                                   = 0.
F2T06                                   = 0.
CO2T06                                  = 0.0
A2SZ06                                  = 0.
FREQ_C06                                = 217
FIX_MONOPOLE06                          = .true.
FIX_DIPOLE06                            = .true.
REG_NOISE_SCALE06                       = 0.0d0
NOISEAMP_PRIOR_MEAN06                   = 1.d0
NOISEAMP_PRIOR_RMS06                    = 0.0
GAIN_PRIOR_MEAN06                       = 1.0d0
GAIN_PRIOR_RMS06                        = 0.00d0
GAIN_CALIB_COMPONENT06                  = 6
GAIN_LMIN06                             = 25
GAIN_LMAX06                             = 100
SAMPLE_AMPLITUDES06                     = .true.

# ------------ 353
FREQ_LABEL07                            = '353'
FREQ_UNIT07                             = 'uK_cmb'
MAP07_0001                              = map_npipe6v20_v1_353_0256_60arcmin_full.fits
NOISE_RMS07                             = rms_dx11d_r2_resc_353_0256_60arcmin_full.fits
MASKFILE_CALIB07                        = mask_fullsky_QU_n256.fits
BEAM07                                  = beam_60arcmin.fits
BANDPASS_TYPE07                         = 'HFI_cmb'
BANDPASS07                              = bp_dx11d_v307_353.dat
BP_RMS07                                = 0.d0
A2T07                                   = 0.
F2T07                                   = 0.
CO2T07                                  = 0.0
A2SZ07                                  = 0.
FREQ_C07                                = 353
FIX_MONOPOLE07                          = .true.
FIX_DIPOLE07                            = .true.
REG_NOISE_SCALE07                       = 0.0d0
NOISEAMP_PRIOR_MEAN07                   = 1.d0
NOISEAMP_PRIOR_RMS07                    = 0.0
GAIN_PRIOR_MEAN07                       = 1.0d0
GAIN_PRIOR_RMS07                        = 0.00d0
GAIN_CALIB_COMPONENT07                  = 6
GAIN_LMIN07                             = 25
GAIN_LMAX07                             = 100
SAMPLE_AMPLITUDES07                     = .true.

# Foreground templates
NUM_FG_TEMP                             = 0
FG_TEMPLATE01_01                        = templ_md_dx11d_r2_100_0256_40arcmin_full.fits
FG_TEMPLATE02_01                        = templ_md_dx11d_r2_100_0256_40arcmin_full.fits
FG_TEMPLATE03_01                        = templ_md_dx11d_r2_100_0256_40arcmin_full.fits
FG_TEMPLATE04_01                        = templ_md_dx11d_r2_100_0256_40arcmin_full.fits
FG_TEMPLATE05_01                        = templ_md_dx11d_r2_143_0256_40arcmin_full.fits
FG_TEMPLATE06_01                        = templ_md_dx11d_r2_217_0256_40arcmin_full.fits
FG_TEMPLATE07_01                        = templ_md_dx11d_r2_353_0256_40arcmin_full.fits

FIX_TEMP01_01                           = .true.
FIX_TEMP02_01                           = .true.
FIX_TEMP03_01                           = .true
FIX_TEMP04_01                           = .true.
FIX_TEMP05_01                           = .true.
FIX_TEMP06_01                           = .true.
FIX_TEMP07_01                           = .true.

# Pixel foreground parameters
T_CMB                                   = 2.7255d0
SAMPLE_INSIDE_MASK                      = .true.
NUM_FG_SIGNAL_COMPONENTS                = 3

CMB_MONO_DIPOLE_MASK                    = none
APPLY_PAR_RMS_SMOOTHING                 = .false.
OPTIMIZE_PRIORS                         = .false.


# ------------ dust
COMP_TYPE01                             = 'one-component_dust'
FG_LABEL01                              = 'dust'
FG_UNIT01                               = 'uK_ant'
REFERENCE_FREQUENCY01                   = 353.
REFERENCE_BAND01                        = 6
COMPONENT_MASK01                        = fullsky
INDEX_SAMPLING_MASK01                   = fullsky
INITIALIZATION_MODE01                   = 'input_map'
INIT_INDEX_MAP01_01                     = init_dust_beta_v4.fits
INIT_INDEX_MAP01_02                     = init_dust_Td_v4.fits
ENFORCE_POSITIVE_AMPLITUDE01            = .false.
INITIAL_AMPLITUDE_MAP01                 = init_dust_v4.fits
REGION_DEFINITION01_01                  = 'single_pix TQU 256'
REGION_DEFINITION01_02                  = 'single_pix TQU 256'
FWHM_PAR01_01                           = 0.
FWHM_PAR01_02                           = 0.
DEFAULT_EMISSIVITY01                    = 1.55
DEFAULT_DUST_TEMP01                     = 18.

EMISSIVITY_PRIOR_UNIFORM_LOW01          = 0.5
EMISSIVITY_PRIOR_UNIFORM_HIGH01         = 2.0
EMISSIVITY_PRIOR_GAUSSIAN_MEAN01        = 1.55
EMISSIVITY_PRIOR_GAUSSIAN_STDDEV01      = 0.1

DUST_TEMP_PRIOR_UNIFORM_LOW01           = 10.
DUST_TEMP_PRIOR_UNIFORM_HIGH01          = 35.
DUST_TEMP_PRIOR_GAUSSIAN_MEAN01         = 23.
DUST_TEMP_PRIOR_GAUSSIAN_STDDEV01       = 0.0

NU_FLATTENING01                         = 100
FRAC_FLATTENING01                       = 0.

IMPOSE_FG_ORTHOGONALITY01               = .false.

APPLY_JEFFREYS_PRIOR01                  = .true.


# ------------ cmb
COMP_TYPE02                             = 'cmb'
FG_LABEL02                              = 'cmb'
FG_UNIT02                               = 'uK_cmb'
REFERENCE_FREQUENCY02                   = 100.d0
REFERENCE_BAND02                        = 5
COMPONENT_MASK02                        = fullsky
INDEX_SAMPLING_MASK02                   = fullsky

IMPOSE_FG_ORTHOGONALITY02               = .false.
ENFORCE_POSITIVE_AMPLITUDE02            = .false.
INITIAL_AMPLITUDE_MAP02                 = init_cmb_v4.fits
OUTPUT_CMB_FREQUENCY_MA02               = .false.


# ------------ synch
COMP_TYPE03                             = 'power_law_break'
FG_LABEL03                              = 'synch'
FG_UNIT03                               = 'uK_ant'
REFERENCE_FREQUENCY03                   = 30.
REFERENCE_BAND03                        = 1
COMPONENT_MASK03                        = fullsky
INDEX_SAMPLING_MASK03                   = fullsky
INITIALIZATION_MODE03                   = 'input_map'
INIT_INDEX_MAP03_01                     = init_synch_beta_v4.fits
INIT_INDEX_MAP03_02                     = null.fits
INITIAL_AMPLITUDE_MAP03                 = init_synch_v4.fits
REGION_DEFINITION03_01                  = 'single_pix TQU 256'
REGION_DEFINITION03_02                  = 'fullsky'
FWHM_PAR03_01                           = 0.
FWHM_PAR03_02                           = 0.
ENFORCE_POSITIVE_AMPLITUDE03            = .false.
NU_BREAK03                              = 3.
DEFAULT_BETA03                          = -3.1
DEFAULT_DBETA03                         = 0.0

BETA_PRIOR_UNIFORM_LOW03                = -4.5
BETA_PRIOR_UNIFORM_HIGH03               = -2.3
BETA_PRIOR_GAUSSIAN_MEAN03              = -3.1
BETA_PRIOR_GAUSSIAN_STDDEV03            = 'no prior'

DBETA_PRIOR_UNIFORM_LOW03               = 0.
DBETA_PRIOR_UNIFORM_HIGH03              = 1.
DBETA_PRIOR_GAUSSIAN_MEAN03             = 0.
DBETA_PRIOR_GAUSSIAN_STDDEV03           = 0.

IMPOSE_FG_ORTHOGONALITY03               = .false.

APPLY_JEFFREYS_PRIOR03                  = .true.


# Object list for individual output
NUM_OBJECTS                             = 0
